{"title":"White-space and character 160","link":"https://www.adamkoch.com/2009/07/25/white-space-and-character-160/","pubDate":"Sat, 25 Jul 2009 19:41:42 +0000","dc:creator":"admin","guid":[{"_":"http://www.adamkoch.com/?p=1620","$":{"isPermaLink":"false"}}],"description":[""],"content:encoded":"<style type=\"text/css\">\r\n.pass {\r\n    background-color: #ADFFAD;\r\n}\r\n.fail {\r\n    background-color: #FFADAD;\r\n}\r\ntable#whitespacedata, \r\ntable#whitespacedata tr,\r\ntable#whitespacedata tr td,\r\ntable#whitespacedata tr th {\r\n    color: black;\r\n    border: solid 1px black;\r\n}\r\ntable#whitespacedata, \r\ntable#whitespacedata tr,\r\ntable#whitespacedata tr td,\r\ntable#whitespacedata tr th {\r\n    color: black;\r\n    border: solid 1px black;\r\n}\r\ntable#whitespacedata td,\r\ntable#whitespacedata th {\r\n    padding: 3px;\r\n}\r\n</style>\r\n\r\nI came across a problem in Internet Explorer (it wasn't a problem with Firefox) when I was trying to compare two strings. To me, one string looked to have an extra space in the front. No problem, I'll just call the <a href=\"http://docs.jquery.com/Utilities/jQuery.trim#str\">jQuery trim function</a>. Well, that didn't work. So I used <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/String/charCodeAt\">charCodeAt</a> and found it was ASCII character 160. I looked up <a title=\"char code 160\" href=\"http://htmlhelp.com/reference/charset/iso160-191.html\">char code 160</a> and saw that it is a \"Non-breaking space\". You would think that a \"space\" character would be trimmed. I looked at the jQuery code that does the trimming and the grep pattern uses <code>\\s</code>. So, evidently you can't use <code>\\s</code> to catch the \"Non-breaking space\" in IE. I wonder why no one else has seen this. I wrote up a <a href=\"/char160test.html\">test page</a> to illustrate this.\r\n\r\nTo create the non-breaking space, you can use <code>String.fromCharCode(160)</code> or the Unicode representation \"\\u00A0\". \"&amp;#160;\" doesn't seem to work when using regular expressions, although it behaves the same when printed.\r\n<table border=\"1\" cellspacing=\"3\" cellpadding=\"3\" id=\"whitespacedata\">\r\n<tbody>\r\n<tr style=\"background-color: #ADD6FF\">\r\n<th> Browser</th>\r\n<th> Evaluates character 160 as white-space</th>\r\n</tr>\r\n<tr class=\"pass\">\r\n<td>Firefox 3, 3.5</td>\r\n<td>Yes</td>\r\n</tr>\r\n<tr class=\"pass\">\r\n<td>Chrome 3.0</td>\r\n<td>Yes</td>\r\n</tr>\r\n<tr class=\"fail\">\r\n<td>Internet Explorer 7, 8</td>\r\n<td>No</td>\r\n</tr>\r\n<tr class=\"fail\">\r\n<td>Safari 3.2</td>\r\n<td>No</td>\r\n</tr>\r\n<tr class=\"pass\">\r\n<td>Opera 9</td>\r\n<td>Yes</td>\r\n</tr>\r\n</tbody></table>","excerpt:encoded":"","wp:post_id":"1620","wp:post_date":"2009-07-25 13:41:42","wp:post_date_gmt":"2009-07-25 19:41:42","wp:post_modified":["2012-05-29 10:48:33"],"wp:post_modified_gmt":["2012-05-29 16:48:33"],"wp:comment_status":["open"],"wp:ping_status":["open"],"wp:post_name":"white-space-and-character-160","wp:status":"publish","wp:post_parent":["0"],"wp:menu_order":["0"],"wp:post_type":"post","wp:post_password":[""],"wp:is_sticky":["0"],"category":[{"_":"160","$":{"domain":"post_tag","nicename":"160"}},{"_":"ascii","$":{"domain":"post_tag","nicename":"ascii"}},{"_":"char","$":{"domain":"post_tag","nicename":"char"}},{"_":"character","$":{"domain":"post_tag","nicename":"character"}},{"_":"character 160","$":{"domain":"post_tag","nicename":"character-160"}},{"_":"charCodeAt","$":{"domain":"post_tag","nicename":"charcodeat"}},{"_":"internet explorer","$":{"domain":"post_tag","nicename":"internet-explorer"}},{"_":"javascript","$":{"domain":"post_tag","nicename":"javascript"}},{"_":"jquery","$":{"domain":"post_tag","nicename":"jquery"}},{"_":"linkedin","$":{"domain":"post_tag","nicename":"linkedin"}},{"_":"Professional","$":{"domain":"category","nicename":"professional"}},{"_":"trim","$":{"domain":"post_tag","nicename":"trim"}}],"wp:postmeta":[{"wp:meta_key":["aktt_notify_twitter"],"wp:meta_value":["no"]},{"wp:meta_key":["_edit_last"],"wp:meta_value":["1"]},{"wp:meta_key":["deactivate_visual_editor"],"wp:meta_value":["true"]},{"wp:meta_key":["_jetpack_related_posts_cache"],"wp:meta_value":["a:1:{s:32:\"8f6677c9d6b0f903e98ad32ec61f8deb\";a:2:{s:7:\"expires\";i:1628455449;s:7:\"payload\";a:3:{i:0;a:1:{s:2:\"id\";i:1730;}i:1;a:1:{s:2:\"id\";i:1724;}i:2;a:1:{s:2:\"id\";i:1667;}}}}"]}],"wp:comment":[{"wp:comment_id":["635"],"wp:comment_author":["Gino"],"wp:comment_author_email":["ginosciretta@hotmail.com"],"wp:comment_author_url":["http://xbhl.net/myhockeyportal"],"wp:comment_author_IP":["194.6.188.134"],"wp:comment_date":["2009-07-28 01:24:04"],"wp:comment_date_gmt":["2009-07-28 07:24:04"],"wp:comment_content":["You saved me hours of debugging in ie. I was using .innerHTML to insert a php page with a table, and i kept getting a runtime error. I spend a good 2 hours debugging only to finally see your post about you having that error when inserting a form within a form. I looked and indeed the DIV displaying the php table had a form around it. Thanks a lot dude!!! :)"],"wp:comment_approved":["1"],"wp:comment_type":["comment"],"wp:comment_parent":["0"],"wp:comment_user_id":["0"]},{"wp:comment_id":["1704"],"wp:comment_author":["fred"],"wp:comment_author_email":["1@1.com"],"wp:comment_author_url":[""],"wp:comment_author_IP":["94.219.223.173"],"wp:comment_date":["2012-07-22 04:28:02"],"wp:comment_date_gmt":["2012-07-22 10:28:02"],"wp:comment_content":["damnit 3 years later and I still run into this bug (with chrome btw)\r\nit looks like a contenteditable uses 160 as a whitespace in chrome (/webkit?)\r\nthanks for your insight"],"wp:comment_approved":["1"],"wp:comment_type":["comment"],"wp:comment_parent":["0"],"wp:comment_user_id":["0"],"wp:commentmeta":[{"wp:meta_key":["akismet_result"],"wp:meta_value":["false"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:4:{s:4:\"time\";s:13:\"1342952882.18\";s:7:\"message\";s:28:\"Akismet cleared this comment\";s:5:\"event\";s:9:\"check-ham\";s:4:\"user\";s:0:\"\";}"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:4:{s:4:\"time\";s:12:\"1342991838.4\";s:7:\"message\";s:44:\"admin changed the comment status to approved\";s:5:\"event\";s:15:\"status-approved\";s:4:\"user\";s:5:\"admin\";}"]}]},{"wp:comment_id":["2234"],"wp:comment_author":["User"],"wp:comment_author_email":["java.stricker@gmail.com"],"wp:comment_author_url":[""],"wp:comment_author_IP":["115.111.223.51"],"wp:comment_date":["2014-02-14 00:48:42"],"wp:comment_date_gmt":["2014-02-14 06:48:42"],"wp:comment_content":["Thanks Adam.. Useful Post. Saved my time.. :)"],"wp:comment_approved":["1"],"wp:comment_type":["comment"],"wp:comment_parent":["0"],"wp:comment_user_id":["0"],"wp:commentmeta":[{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:4:{s:4:\"time\";d:1392377163.6489698886871337890625;s:7:\"message\";s:44:\"admin changed the comment status to approved\";s:5:\"event\";s:15:\"status-approved\";s:4:\"user\";s:5:\"admin\";}"]},{"wp:meta_key":["akismet_result"],"wp:meta_value":["false"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:4:{s:4:\"time\";d:1392360522.467051982879638671875;s:7:\"message\";s:28:\"Akismet cleared this comment\";s:5:\"event\";s:9:\"check-ham\";s:4:\"user\";s:0:\"\";}"]}]},{"wp:comment_id":["2224"],"wp:comment_author":["Ahmed Shaaban"],"wp:comment_author_email":["v-ahmeds@microsoft.com"],"wp:comment_author_url":[""],"wp:comment_author_IP":["94.245.87.167"],"wp:comment_date":["2014-01-30 01:23:31"],"wp:comment_date_gmt":["2014-01-30 07:23:31"],"wp:comment_content":["dude I ran into the same problem on chrome. I was comparing the text came from text area to white space character (normal ascii 32) and guess what ??? !!!\r\nsome of the spaces where 32 and others where 160\r\nThank you for investigating this .. I think you will save so much time and effort for many Devs"],"wp:comment_approved":["1"],"wp:comment_type":["comment"],"wp:comment_parent":["0"],"wp:comment_user_id":["0"],"wp:commentmeta":[{"wp:meta_key":["akismet_result"],"wp:meta_value":["false"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:4:{s:4:\"time\";d:1391066611.2300269603729248046875;s:7:\"message\";s:28:\"Akismet cleared this comment\";s:5:\"event\";s:9:\"check-ham\";s:4:\"user\";s:0:\"\";}"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:4:{s:4:\"time\";d:1391113095.85223293304443359375;s:7:\"message\";s:44:\"admin changed the comment status to approved\";s:5:\"event\";s:15:\"status-approved\";s:4:\"user\";s:5:\"admin\";}"]}]},{"wp:comment_id":["9497"],"wp:comment_author":["BryanB"],"wp:comment_author_email":["wbbeasley.tx@gmail.com"],"wp:comment_author_url":[""],"wp:comment_author_IP":["207.71.41.193"],"wp:comment_date":["2016-02-09 14:13:54"],"wp:comment_date_gmt":["2016-02-09 20:13:54"],"wp:comment_content":["Thanks for posting this.  (7 years later) I ran into this with Mulesoft (Java based) parsing engine.  Copy and paste out of browser based displays caused this."],"wp:comment_approved":["1"],"wp:comment_type":["comment"],"wp:comment_parent":["0"],"wp:comment_user_id":["0"],"wp:commentmeta":[{"wp:meta_key":["akismet_result"],"wp:meta_value":["false"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:4:{s:4:\"time\";d:1455048834.968224048614501953125;s:7:\"message\";s:28:\"Akismet cleared this comment\";s:5:\"event\";s:9:\"check-ham\";s:4:\"user\";s:0:\"\";}"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:3:{s:4:\"time\";d:1470859981.379807949066162109375;s:5:\"event\";s:15:\"status-approved\";s:4:\"user\";s:5:\"admin\";}"]}]},{"wp:comment_id":["11175"],"wp:comment_author":["Johnny"],"wp:comment_author_email":["john@c8h10n4o2.co.uk"],"wp:comment_author_url":["http://johnnysix.net"],"wp:comment_author_IP":["88.151.157.194"],"wp:comment_date":["2016-12-20 04:56:11"],"wp:comment_date_gmt":["2016-12-20 10:56:11"],"wp:comment_content":["Same in Excel - sheets created opened from an HTML source also have this issue. Excel doesn't find/replace programmatically when searching for a space in vba, but will when using the GUI."],"wp:comment_approved":["1"],"wp:comment_type":["comment"],"wp:comment_parent":["0"],"wp:comment_user_id":["0"],"wp:commentmeta":[{"wp:meta_key":["akismet_result"],"wp:meta_value":["false"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:2:{s:4:\"time\";d:1482231371.7823250293731689453125;s:5:\"event\";s:9:\"check-ham\";}"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:3:{s:4:\"time\";d:1482244896.682406902313232421875;s:5:\"event\";s:15:\"status-approved\";s:4:\"user\";s:5:\"admin\";}"]}]},{"wp:comment_id":["12773"],"wp:comment_author":["Leo Orionis"],"wp:comment_author_email":["leo@leoorionis.com"],"wp:comment_author_url":["http://None%20at%20present.%20%20Working%20on%20it..."],"wp:comment_author_IP":["187.189.217.157"],"wp:comment_date":["2017-09-25 16:58:53"],"wp:comment_date_gmt":["2017-09-25 22:58:53"],"wp:comment_content":["Editing an HTML page originally created with Microsoft Word, I stripped out all the crap and converted all the inserted special characters to real characters, or in some cases to named HTML characters like &eacute; (lower-case e with an acute accent).  When all that was done, there were still a few random &#160; codes, which I deleted because they served no purpose.\r\n\r\nSo I guess it's not just Microsoft Internet Explorer, but Microsoft Word as well.  If you actually NEED an extra space somewhere that won't go away, the HTML characters is &nbsp; \"non-breaking space.\""],"wp:comment_approved":["1"],"wp:comment_type":["comment"],"wp:comment_parent":["0"],"wp:comment_user_id":["0"],"wp:commentmeta":[{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:3:{s:4:\"time\";d:1506385565.3978250026702880859375;s:5:\"event\";s:15:\"status-approved\";s:4:\"user\";s:5:\"admin\";}"]},{"wp:meta_key":["akismet_result"],"wp:meta_value":["false"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:2:{s:4:\"time\";d:1506380333.243206024169921875;s:5:\"event\";s:9:\"check-ham\";}"]}]},{"wp:comment_id":["12774"],"wp:comment_author":["Leo Orionis"],"wp:comment_author_email":["leo@leoorionis.com"],"wp:comment_author_url":[""],"wp:comment_author_IP":["187.189.217.157"],"wp:comment_date":["2017-09-25 17:05:23"],"wp:comment_date_gmt":["2017-09-25 23:05:23"],"wp:comment_content":["Argh!  Didn't expect the HTML codes to be expressed in my comment.  My bad.  It should read \"HTML characters like &amp;eacute;\" and \"the HTML character is &amp;nbsp;\"."],"wp:comment_approved":["1"],"wp:comment_type":["comment"],"wp:comment_parent":["12773"],"wp:comment_user_id":["0"],"wp:commentmeta":[{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:3:{s:4:\"time\";d:1506385566.423718929290771484375;s:5:\"event\";s:15:\"status-approved\";s:4:\"user\";s:5:\"admin\";}"]},{"wp:meta_key":["akismet_result"],"wp:meta_value":["false"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:2:{s:4:\"time\";d:1506380723.1085300445556640625;s:5:\"event\";s:9:\"check-ham\";}"]}]},{"wp:comment_id":["12795"],"wp:comment_author":["Ruth Regan"],"wp:comment_author_email":["helen_6410@hotmail.com"],"wp:comment_author_url":[""],"wp:comment_author_IP":["128.220.159.45"],"wp:comment_date":["2017-09-28 08:37:03"],"wp:comment_date_gmt":["2017-09-28 14:37:03"],"wp:comment_content":["I have been trying to pull data from an excel file downloaded off chrome into another excel report using vlookups on names and could not get it to work. Thank you so much for highlighting this difference - turns out my data is riddled with 160s and 32s making them initially non-comparable. You have saved me many hours of troubleshooting!"],"wp:comment_approved":["1"],"wp:comment_type":["comment"],"wp:comment_parent":["0"],"wp:comment_user_id":["0"],"wp:commentmeta":[{"wp:meta_key":["akismet_result"],"wp:meta_value":["false"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:2:{s:4:\"time\";d:1506609423.5304958820343017578125;s:5:\"event\";s:9:\"check-ham\";}"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:3:{s:4:\"time\";d:1506611696.2887020111083984375;s:5:\"event\";s:15:\"status-approved\";s:4:\"user\";s:5:\"admin\";}"]}]},{"wp:comment_id":["15221"],"wp:comment_author":["Kishan"],"wp:comment_author_email":["kishan_230v50hz@engineer.com"],"wp:comment_author_url":[""],"wp:comment_author_IP":["223.226.35.23"],"wp:comment_date":["2018-08-11 02:23:40"],"wp:comment_date_gmt":["2018-08-11 08:23:40"],"wp:comment_content":["Some one else too...\r\n\r\nI have formatting and converting currency rates... And strangely Hungary (country) uses this character as their number group (hundreds) separator and came across this strange character."],"wp:comment_approved":["1"],"wp:comment_type":["comment"],"wp:comment_parent":["0"],"wp:comment_user_id":["0"],"wp:commentmeta":[{"wp:meta_key":["akismet_result"],"wp:meta_value":["false"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:2:{s:4:\"time\";d:1533975821.1280419826507568359375;s:5:\"event\";s:9:\"check-ham\";}"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:3:{s:4:\"time\";d:1533986826.7360908985137939453125;s:5:\"event\";s:15:\"status-approved\";s:4:\"user\";s:5:\"admin\";}"]}]},{"wp:comment_id":["15172"],"wp:comment_author":["Scott"],"wp:comment_author_email":["scott.davies@insidertech.co.uk"],"wp:comment_author_url":[""],"wp:comment_author_IP":["148.252.199.26"],"wp:comment_date":["2018-07-30 03:13:06"],"wp:comment_date_gmt":["2018-07-30 09:13:06"],"wp:comment_content":["So glad I found this article, have spent an age trying to figure out why my Vue component Unit test was failing. Turns out what I thought was a space was... yes you guessed it a Code 160 non-breaking space."],"wp:comment_approved":["1"],"wp:comment_type":["comment"],"wp:comment_parent":["0"],"wp:comment_user_id":["0"],"wp:commentmeta":[{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:3:{s:4:\"time\";d:1532953305.11011409759521484375;s:5:\"event\";s:15:\"status-approved\";s:4:\"user\";s:5:\"admin\";}"]},{"wp:meta_key":["akismet_result"],"wp:meta_value":["false"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:2:{s:4:\"time\";d:1532941987.1419169902801513671875;s:5:\"event\";s:9:\"check-ham\";}"]}]},{"wp:comment_id":["14305"],"wp:comment_author":["Garret Peterson"],"wp:comment_author_email":["garretpeterson@gmail.com"],"wp:comment_author_url":[""],"wp:comment_author_IP":["67.214.233.18"],"wp:comment_date":["2018-02-28 17:38:58"],"wp:comment_date_gmt":["2018-02-28 23:38:58"],"wp:comment_content":["FYI I just ran into this in Java. Character.isWhitespace returns false for 160, but Character.isSpaceChar returns true."],"wp:comment_approved":["1"],"wp:comment_type":["comment"],"wp:comment_parent":["0"],"wp:comment_user_id":["0"],"wp:commentmeta":[{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:3:{s:4:\"time\";d:1519861460.158134937286376953125;s:5:\"event\";s:15:\"status-approved\";s:4:\"user\";s:5:\"admin\";}"]},{"wp:meta_key":["akismet_result"],"wp:meta_value":["false"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:2:{s:4:\"time\";d:1519861138.593184947967529296875;s:5:\"event\";s:9:\"check-ham\";}"]}]},{"wp:comment_id":["18971"],"wp:comment_author":["Neha Kulkarni"],"wp:comment_author_email":["nehakulkarni1592@gmail.com"],"wp:comment_author_url":[""],"wp:comment_author_IP":["149.173.8.39"],"wp:comment_date":["2019-10-29 22:35:38"],"wp:comment_date_gmt":["2019-10-30 04:35:38"],"wp:comment_content":["Just what I was looking for! Ran into this problem with Javascript. Was comparing the formatted numeric values for different locales with the value entered by the user. This was to implement a search function in my application. Finally was frustrated and checked using the charCodeAt() function. And lo! There it was! Will have to explicitly handle this case now."],"wp:comment_approved":["1"],"wp:comment_type":["comment"],"wp:comment_parent":["0"],"wp:comment_user_id":["0"],"wp:commentmeta":[{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:3:{s:4:\"time\";d:1572440148.170031070709228515625;s:5:\"event\";s:15:\"status-approved\";s:4:\"user\";s:5:\"admin\";}"]},{"wp:meta_key":["akismet_result"],"wp:meta_value":["false"]},{"wp:meta_key":["akismet_history"],"wp:meta_value":["a:2:{s:4:\"time\";d:1572410138.2569539546966552734375;s:5:\"event\";s:9:\"check-ham\";}"]}]}],"tidyCategory":"Professional","tidyTags":["160","ascii","char","character","character 160","charCodeAt","internet explorer","javascript","jquery","linkedin","trim"]}

